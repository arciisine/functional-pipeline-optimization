\section{Runtime Optimization}\label{RuntimeOptimization}
The runtime optimization focuses on compiling the common paradigm of the \pipelineoperators, and how the relationship between the operator and its inputs.

At runtime the code will pass through two separate phases:

\begin{enumerate}
  \item Transformation and Validation (\secref{Transformation})
  \item Compilation (\secref{Compilation})
\end{enumerate}

Transformation and validation happens on a per \pipelineoperator basis.  This allows for simple transformations as well as a short circuit on any invalid \pipelineoperator.

Once the entire functional pipeline has been transformed, the results are merged together into a final compilation process that results in the optimized code as a new function. 

\begin{minipage}{\linewidth}
\lstinputlisting[frame=single, caption={Simple Functional Implementation}, label={lst:simplefunctional}, language=js]{code/simple-functional.js}
\end{minipage}

\input{pages/algorithm/runtime-optimization/transformation.tex}
\input{pages/algorithm/runtime-optimization/compilation.tex}