\paragraph{Closure Analysis}
Within the final form you can also see that we analyze closed variables to be able to handle reading and writing of these variables within our optimized code path. Because the optimized code path is not in the same scope as the candidate optimization, we lose access to the closed variables.  We need to calculate all the closed variables that we can, and handle them accordingly.  Due to the fact that we are only looking at one file at a time, we are only able to analyze closed variables for inline functions, anything else will need to be handled at runtime.  

