\section{Runtime Optimization}\label{RuntimeOptimization}
The runtime optimization focuses on compiling the common paradigm of the functional pipeline stages, and how those operations define the functionality of their inputs.

At runtime the code will pass through two separate phases:

\begin{enumerate}
  \item Transformation and Validation (\secref{Transformation})
  \item Compilation (\secref{Compilation})
\end{enumerate}

Transformation and validation happens on a per functional pipeline stage basis.  This allows for simple transformations as well as a short circuit on any invalid functional pipeline stage.

Once the entire functional pipeline has been transformed, the results are merged together into a final compilation process that results in the optimized code as a new function. 

\begin{minipage}{\linewidth}
\lstinputlisting[frame=single, caption={Simple Functional Implementation}, label={lst:simplefunctional}, language=js]{code/simple-functional.js}
\end{minipage}

\input{pages/framework/runtime-optimization/transformation.tex}
\input{pages/framework/runtime-optimization/compilation.tex}